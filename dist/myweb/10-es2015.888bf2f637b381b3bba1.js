(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/nV1":function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),a=t("mrSG"),u=t("U3xU"),s=t("yfIo"),o=t("AytR");class i extends s.a{constructor(l,n,t,e){super(l,n),this.router=l,this.http=n,this.user=t,this.spinner=e,this.checkStatus=0,this.loadTable=!0}ngOnInit(){const l=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return a.b(this,void 0,void 0,(function*(){yield l.ngOnInit.call(this),this.DrawDataTable()}))}DrawDataTable(){const l=this;this.dataTable=$("#data_table_log").DataTable({processing:!0,serverSide:!0,searching:!0,paging:!0,order:[],ajax:{url:o.a.baseUrl+"/projectLogs",headers:{Authorization:`Bearer ${localStorage.access_token}`}},drawCallback:function(){$("#data_table_log").addClass("table"),$("#data_table_log").addClass("table-bordered"),$("#data_table_log").addClass("table-hover"),$("#data_table_log").addClass("table-striped"),$("#data_table_log").children("thead").addClass("bg-info text-white"),l.loadTable&&($("#data_table_log").on("click",".delete",(function(){l.deleteProject($(this).data("id"))})),$("#data_table_log").on("click",".detail",(function(){l.router.navigate(["/admin/logDebug/detail",$(this).data("id")])}))),l.loadTable=!1},columns:[{data:"key",name:"key",title:"ID"},{data:"name",name:"name",title:"Name"},{data:"status",name:"status",title:"Status"},{data:"enable",name:"enable",title:"Enable"},{data:"createdAt",name:"created_at",title:"Created At"},{title:"Select"}],columnDefs:[{targets:2,render:function(l){return 1==l?'<button class="btn btn-sm btn-success">Active</button>':'<button class="btn btn-sm btn-danger">Deactive</button>'}},{targets:4,render:function(l){return new Date(l).toLocaleDateString("en-GB")+" "+new Date(l).toLocaleTimeString("en-GB")}},{targets:5,render:function(l,n,t){return`<div class="dropdown">\n              <button class="btn btn-sm btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                Action\n              </button>\n              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">\n                <span class="dropdown-item delete" data-id="${t.key}">Delete</span>\n                <span class="dropdown-item detail" data-id="${t.key}">View Log</span>\n              </div>\n            </div>`}}]})}resetData(){this.txtAddName=""}changeStatus(){this.checkStatus=0==this.checkStatus?1:0,console.log(this.checkStatus)}addProject(){return a.b(this,void 0,void 0,(function*(){this.spinner.show();const l={Name:this.txtAddName,Status:this.checkStatus};yield this.user.addNewProject(l).then(l=>{$.notify({message:l.message},{type:"success"})}).catch(l=>{$.notify({message:l.error.message},{type:"danger"})}),this.dataTable.ajax.reload(null,!1),this.spinner.hide(),this.resetData()}))}deleteProject(l){return a.b(this,void 0,void 0,(function*(){this.spinner.show(),yield this.user.deleteProject(l).then(l=>{$.notify({message:l.message},{type:"success"})}).catch(l=>{$.notify({message:l.error.message},{type:"danger"})}),this.dataTable.ajax.reload(null,!1),this.spinner.hide()}))}}var d=t("PSD3"),r=t.n(d);class c extends s.a{constructor(l,n,t,e,a,u){super(l,n),this.router=l,this.http=n,this.user=t,this.activatedRoute=e,this.location=a,this.spinner=u,this.checkStatus=0,this.loadTable=!0,this.id_arr=[]}ngOnInit(){const l=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return a.b(this,void 0,void 0,(function*(){yield l.ngOnInit.call(this),this.activatedRoute.params.subscribe(l=>{this.id=l.id}),this.DrawDataTable()}))}refreshTable(){this.dataTable.ajax.reload(null,!1)}DrawDataTable(){const l=this;this.dataTable=$("#data_table_log").DataTable({processing:!0,serverSide:!0,searching:!0,paging:!0,order:[],ajax:{url:o.a.baseUrl+"/projectLogs/"+this.id+"/logs",headers:{Authorization:`Bearer ${localStorage.access_token}`}},drawCallback:function(){$("#data_table_log").addClass("table"),$("#data_table_log").addClass("table-bordered"),$("#data_table_log").addClass("table-hover"),$("#data_table_log").addClass("table-striped"),$("#data_table_log").children("thead").addClass("bg-info text-white"),l.loadTable&&($("#data_table_log").on("click",".check",(function(){l.id_arr=[];const n=$(".check");n.length>0&&n.map((n,t)=>{1==t.checked&&l.id_arr.push(t.value)})})),$("#data_table_log").on("click","#checkAll",(function(){l.id_arr=[];const n=$(".check");0!=$("#checkAll")[0].checked?n.length>0&&n.map((n,t)=>{t.checked=!0,l.id_arr.push(t.value)}):n.length>0&&n.map((l,n)=>{n.checked=!1})}))),l.loadTable=!1},columns:[{data:"content",name:"content",title:"Content"},{data:"type",name:"type",title:"Type"},{data:"createdAt",name:"created_at",title:"Created At"},{title:'<input type="checkbox" id="checkAll" value="${row.id}">'}],columnDefs:[{targets:2,render:function(l){return new Date(l).toLocaleDateString("en-GB")+" "+new Date(l).toLocaleTimeString("en-GB")}},{targets:3,orderable:!1,render:function(l,n,t){return`<input type="checkbox" class="check" value="${t.id}">`}}]})}deleteMuity(){r.a.fire({title:"Are you sure delete log checked?",text:"You won't be able to revert this!",showCancelButton:!0}).then(l=>a.b(this,void 0,void 0,(function*(){l.value&&(this.spinner.show(),$("#checkAll")[0].checked=!1,yield this.user.deleteLogs(this.id,this.id_arr).then(l=>{$.notify({message:l.message},{type:"success"})}).catch(l=>{$.notify({message:l.error.message},{type:"danger"})}),this.dataTable.ajax.reload(null,!1),this.spinner.hide())})))}goBack(){this.location.back()}}class b{}var g=t("pMnS"),h=t("s7LF"),p=t("IheW"),m=t("iInd"),v=t("7g+E"),f=e.rb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{margin-top:1%}.btn-actived[_ngcontent-%COMP%]{background:gray;color:#ddd}"]],data:{}});function k(l){return e.Pb(0,[(l()(),e.tb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Log debug"])),(l()(),e.tb(2,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["data-target","#modalAddProject"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.resetData()&&e),e}),null,null)),(l()(),e.Nb(-1,null,[" Add new project\n"])),(l()(),e.tb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.tb(5,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.tb(6,0,null,null,1,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),e.tb(7,0,null,null,0,"table",[["id","data_table_log"]],null,null,null,null,null)),(l()(),e.tb(8,0,null,null,34,"div",[["class","modal fade"],["id","modalAddProject"]],null,null,null,null,null)),(l()(),e.tb(9,0,null,null,33,"div",[["class","modal-dialog"]],null,null,null,null,null)),(l()(),e.tb(10,0,null,null,32,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),e.tb(11,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.tb(12,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Add new project"])),(l()(),e.tb(14,0,null,null,1,"button",[["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,["\xd7"])),(l()(),e.tb(16,0,null,null,21,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.tb(17,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var a=!0;return"submit"===n&&(a=!1!==e.Fb(l,19).onSubmit(t)&&a),"reset"===n&&(a=!1!==e.Fb(l,19).onReset()&&a),a}),null,null)),e.sb(18,16384,null,0,h.C,[],null,null),e.sb(19,4210688,null,0,h.q,[[8,null],[8,null]],null,null),e.Kb(2048,null,h.d,null,[h.q]),e.sb(21,16384,null,0,h.p,[[4,h.d]],null,null),(l()(),e.tb(22,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.tb(23,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Name"])),(l()(),e.tb(25,0,null,null,6,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var a=!0,u=l.component;return"input"===n&&(a=!1!==e.Fb(l,26)._handleInput(t.target.value)&&a),"blur"===n&&(a=!1!==e.Fb(l,26).onTouched()&&a),"compositionstart"===n&&(a=!1!==e.Fb(l,26)._compositionStart()&&a),"compositionend"===n&&(a=!1!==e.Fb(l,26)._compositionEnd(t.target.value)&&a),"ngModelChange"===n&&(a=!1!==(u.txtAddName=t)&&a),a}),null,null)),e.sb(26,16384,null,0,h.e,[e.D,e.k,[2,h.a]],null,null),e.Kb(1024,null,h.m,(function(l){return[l]}),[h.e]),e.sb(28,671744,null,0,h.r,[[2,h.d],[8,null],[8,null],[6,h.m]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),e.Ib(29,{standalone:0}),e.Kb(2048,null,h.n,null,[h.r]),e.sb(31,16384,null,0,h.o,[[4,h.n]],null,null),(l()(),e.tb(32,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.tb(33,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Status"])),(l()(),e.tb(35,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.tb(36,0,null,null,0,"input",[["type","checkbox"]],null,[[null,"change"]],(function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component.changeStatus()&&e),e}),null,null)),(l()(),e.Nb(-1,null,[" Active "])),(l()(),e.tb(38,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.tb(39,0,null,null,1,"button",[["class","btn btn-success"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.addProject()&&e),e}),null,null)),(l()(),e.Nb(-1,null,["Add"])),(l()(),e.tb(41,0,null,null,1,"button",[["class","btn btn-danger"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Cancel"]))],(function(l,n){var t=n.component.txtAddName,e=l(n,29,0,!0);l(n,28,0,t,e)}),(function(l,n){l(n,17,0,e.Fb(n,21).ngClassUntouched,e.Fb(n,21).ngClassTouched,e.Fb(n,21).ngClassPristine,e.Fb(n,21).ngClassDirty,e.Fb(n,21).ngClassValid,e.Fb(n,21).ngClassInvalid,e.Fb(n,21).ngClassPending),l(n,25,0,e.Fb(n,31).ngClassUntouched,e.Fb(n,31).ngClassTouched,e.Fb(n,31).ngClassPristine,e.Fb(n,31).ngClassDirty,e.Fb(n,31).ngClassValid,e.Fb(n,31).ngClassInvalid,e.Fb(n,31).ngClassPending)}))}function _(l){return e.Pb(0,[(l()(),e.tb(0,0,null,null,2,"log-debug-user-admin",[],null,null,null,k,f)),e.Kb(512,null,u.a,u.a,[p.c]),e.sb(2,245760,null,0,i,[m.m,p.c,u.a,v.c],null,null)],(function(l,n){l(n,2,0)}),null)}var y=e.pb("log-debug-user-admin",i,_,{},{},[]),D=t("SVse"),C=e.rb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{margin-top:1%}.btn-actived[_ngcontent-%COMP%]{background:gray;color:#ddd}.btn[_ngcontent-%COMP%]{margin:1%}"]],data:{}});function w(l){return e.Pb(0,[(l()(),e.tb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Nb(-1,null,["Log debug detail"])),(l()(),e.tb(2,0,null,null,2,"button",[["class","btn btn-sm btn-warning"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goBack()&&e),e}),null,null)),(l()(),e.tb(3,0,null,null,0,"i",[["class","fas fa-chevron-circle-left"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,[" Go Back\n"])),(l()(),e.tb(5,0,null,null,2,"button",[["class","btn btn-sm btn-primary"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.refreshTable()&&e),e}),null,null)),(l()(),e.tb(6,0,null,null,0,"i",[["class","fas fa-sync-alt"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,[" Refresh Data\n"])),(l()(),e.tb(8,0,null,null,2,"button",[["class","btn btn-sm btn-danger"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deleteMuity()&&e),e}),null,null)),(l()(),e.tb(9,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null)),(l()(),e.Nb(-1,null,[" Delete Muilty\n"])),(l()(),e.tb(11,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.tb(12,0,null,null,1,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),e.tb(13,0,null,null,0,"table",[["id","data_table_log"]],null,null,null,null,null))],null,null)}function A(l){return e.Pb(0,[(l()(),e.tb(0,0,null,null,2,"log-detail-user-admin",[],null,null,null,w,C)),e.Kb(512,null,u.a,u.a,[p.c]),e.sb(2,245760,null,0,c,[m.m,p.c,u.a,m.a,D.h,v.c],null,null)],(function(l,n){l(n,2,0)}),null)}var S=e.pb("log-detail-user-admin",c,A,{},{},[]),T=t("PjcS"),P=t("Q6Ar"),j=t("axVG");t.d(n,"LogDebugUserAdminModuleNgFactory",(function(){return x}));var x=e.qb(b,[],(function(l){return e.Cb([e.Db(512,e.j,e.bb,[[8,[g.a,y,S]],[3,e.j],e.w]),e.Db(4608,D.n,D.m,[e.t,[2,D.H]]),e.Db(4608,h.A,h.A,[]),e.Db(4608,h.g,h.g,[]),e.Db(1073742336,m.q,m.q,[[2,m.v],[2,m.m]]),e.Db(1073742336,D.b,D.b,[]),e.Db(1073742336,h.z,h.z,[]),e.Db(1073742336,h.k,h.k,[]),e.Db(1073742336,T.b,T.b,[]),e.Db(1073742336,h.v,h.v,[]),e.Db(1073742336,P.b,P.b,[]),e.Db(1073742336,j.a,j.a,[]),e.Db(1073742336,b,b,[]),e.Db(1024,m.k,(function(){return[[{path:"",component:i},{path:"detail/:id",component:c}]]}),[])])}))}}]);